<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Basic MIDI structures · JuliaMusic</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/logo.ico" rel="icon" type="image/x-icon"/><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="JuliaMusic logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">JuliaMusic</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Introduction</a></li><li class="is-active"><a class="tocitem" href>Basic MIDI structures</a><ul class="internal"><li><a class="tocitem" href="#MIDI-IO"><span>MIDI IO</span></a></li><li><a class="tocitem" href="#MIDIFile"><span><code>MIDIFile</code></span></a></li><li><a class="tocitem" href="#MIDITrack"><span><code>MIDITrack</code></span></a></li><li><a class="tocitem" href="#Meta-Events"><span>Meta Events</span></a></li><li><a class="tocitem" href="#MIDI-Events"><span>MIDI Events</span></a></li><li><a class="tocitem" href="#Utility-functions"><span>Utility functions</span></a></li><li><a class="tocitem" href="#Low-Level-API"><span>Low-Level API</span></a></li><li><a class="tocitem" href="#MIDI:-The-least-you-need-to-know"><span>MIDI: The least you need to know</span></a></li></ul></li><li><a class="tocitem" href="../notes/">Notes</a></li><li><a class="tocitem" href="../../mm/notetools/">Note Tools</a></li><li><a class="tocitem" href="../../mm/quantizing/">Quantizing &amp; Humanizing</a></li><li><a class="tocitem" href="../../mm/extraction/">Music data extraction</a></li><li><span class="tocitem">Visualization</span><ul><li><a class="tocitem" href="../../printplot/noteplotter/">Plotting notes</a></li><li><a class="tocitem" href="../../printplot/musescore/">Printing notes into a score</a></li></ul></li><li><span class="tocitem">Motif sequence</span><ul><li><a class="tocitem" href="../../motif/basic/">Motif sequence generator</a></li><li><a class="tocitem" href="../../motif/musicexample/">Music motifs</a></li></ul></li><li><span class="tocitem">Becoming a better drummer blog</span><ul><li><a class="tocitem" href="../../blog/drumpatterns/">Ep. 1 - Mixing drum patterns</a></li><li><a class="tocitem" href="../../blog/garibaldi_dragadiddle/">Ep. 2 - Garibaldi inspired dragaddidle</a></li><li><a class="tocitem" href="../../blog/gaddisms/">Ep. 3 - Gaddisms</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Basic MIDI structures</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Basic MIDI structures</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaMusic/JuliaMusic_documentation.jl/blob/master/docs/src/midi/io.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Basic-MIDI-structures"><a class="docs-heading-anchor" href="#Basic-MIDI-structures">Basic MIDI structures</a><a id="Basic-MIDI-structures-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-MIDI-structures" title="Permalink"></a></h1><p>MIDI files are loaded to/from disc and transformed into a Julia structure <code>MIDIFile</code>, which contains <code>MIDITrack</code>s.</p><h2 id="MIDI-IO"><a class="docs-heading-anchor" href="#MIDI-IO">MIDI IO</a><a id="MIDI-IO-1"></a><a class="docs-heading-anchor-permalink" href="#MIDI-IO" title="Permalink"></a></h2><p>To read and write a MIDI file, the <code>load</code> and <code>save</code> functions can be used. These extend the <code>FileIO</code> interface. The syntax is</p><pre><code class="nohighlight hljs">load(filename) -&gt; midi::MIDIFile</code></pre><p>Load the midi file contained in <code>filename</code> (which <strong>must</strong> end in &quot;.mid&quot;) and return it as a <a href="#MIDI.MIDIFile"><code>MIDIFile</code></a>.</p><pre><code class="nohighlight hljs">save(filename, data::MIDIFile)</code></pre><p>Write a <code>MIDIFile</code> as a &quot;.mid&quot; file to the given <code>filename</code>.</p><pre><code class="nohighlight hljs">save(filename, notes::Notes)</code></pre><p>Create a <code>MIDIFile</code> directly from <code>notes</code>, using format 1, and then save it.</p><h2 id="MIDIFile"><a class="docs-heading-anchor" href="#MIDIFile"><code>MIDIFile</code></a><a id="MIDIFile-1"></a><a class="docs-heading-anchor-permalink" href="#MIDIFile" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MIDI.MIDIFile" href="#MIDI.MIDIFile"><code>MIDI.MIDIFile</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MIDIFile &lt;: Any</code></pre><p>Type representing a file of MIDI data.</p><p><strong>Fields</strong></p><ul><li><code>format::UInt16</code> : The format of the file. Can be 0, 1 or 2.</li><li><code>tpq::Int16</code> : The time division of the track, ticks-per-quarter-note.</li><li><code>tracks::Array{MIDITrack, 1}</code> : The array of contained tracks.</li></ul></div></section></article><h2 id="MIDITrack"><a class="docs-heading-anchor" href="#MIDITrack"><code>MIDITrack</code></a><a id="MIDITrack-1"></a><a class="docs-heading-anchor-permalink" href="#MIDITrack" title="Permalink"></a></h2><p>The most important field of a <code>MIDIFile</code> is the <code>tracks</code> field. It contains as many tracks as the user wants. The tracks themselves contain all &quot;musical&quot; information in the form of the &quot;events&quot; we mentioned in <a href="#MIDI:-The-least-you-need-to-know">MIDI: The least you need to know</a>.</p><article class="docstring"><header><a class="docstring-binding" id="MIDI.MIDITrack" href="#MIDI.MIDITrack"><code>MIDI.MIDITrack</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MIDITrack &lt;: Any</code></pre><p><code>MIDITrack</code> is simply a container for <code>TrackEvents</code>, since its only field is <code>events::Vector{TrackEvent}</code>.</p><p>Track chunks begin with four bytes spelling out &quot;MTrk&quot;, followed by the length (in bytes) of the track (see <a href="#MIDI.readvariablelength"><code>readvariablelength</code></a>), followed by a sequence of events.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.TrackEvent" href="#MIDI.TrackEvent"><code>MIDI.TrackEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TrackEvent &lt;: Any</code></pre><p>Abstract supertype for all MIDI events.</p><p>All track events begin with a variable length time value (see <a href="#MIDI.readvariablelength"><code>readvariablelength</code></a>) and have a field named <code>dT</code> which contains it. This number notes after how many ticks since the last event does the current even takes place.</p><p><code>MIDIEvent</code>s then resume with a MIDI channel message defined in <code>constants.jl</code>. They&#39;re followed by 1 or 2 bytes, depending on the channel message (see <code>MIDI.EVENTTYPETOLENGTH</code>). If no valid channel message is identified, the previous seen channel message is used. After that the MIDI command is encoded.</p><p><code>MetaEvent</code>s and <code>SysexEvent</code>s both resume with a specific byte (see <code>constants.jl</code>).</p></div></section></article><p>The <code>TrackEvent</code> themselves can be broken into three types.</p><pre><code class="language-julia hljs">abstract type MIDIEvent &lt;: TrackEvent end

abstract type MetaEvent &lt;: TrackEvent end

struct SysexEvent &lt;: TrackEvent
    dT::Int
    data::Array{UInt8,1}
end</code></pre><p>The various midi and meta events found in a midifile have their own types. More information can be found at the <a href="#Meta-Events">Meta Events</a> and <a href="#MIDI-Events">MIDI Events</a> sections below.  </p><p>Typically the most relevant information of a <code>MIDITrack</code> are the notes contained within. For this reason, special functions <a href="../notes/#MIDI.getnotes"><code>getnotes</code></a> and <a href="../notes/#MIDI.addnotes!"><code>addnotes!</code></a> exist, which can be found in the <a href="../notes/#Notes">Notes</a> page.</p><h2 id="Meta-Events"><a class="docs-heading-anchor" href="#Meta-Events">Meta Events</a><a id="Meta-Events-1"></a><a class="docs-heading-anchor-permalink" href="#Meta-Events" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MIDI.SequenceNumberEvent" href="#MIDI.SequenceNumberEvent"><code>MIDI.SequenceNumberEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SequenceNumberEvent &lt;: MetaEvent</code></pre><p>The <code>SequenceNumberEvent</code> contains the number of a sequence in type 0 and 1 MIDI files, or the pattern number in type 2 MIDI files.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>number::Int</code> : Sequence number.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.TextEvent" href="#MIDI.TextEvent"><code>MIDI.TextEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TextEvent &lt;: MetaEvent</code></pre><p>The <code>TextEvent</code> contains a text within the MIDI file.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The text in the event.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.CopyrightNoticeEvent" href="#MIDI.CopyrightNoticeEvent"><code>MIDI.CopyrightNoticeEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CopyrightNoticeEvent &lt;: MetaEvent</code></pre><p>The <code>CopyrightNoticeEvent</code> contains a copyright notice in a MIDI file.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The copyright notice in text.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.TrackNameEvent" href="#MIDI.TrackNameEvent"><code>MIDI.TrackNameEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TrackNameEvent &lt;: MetaEvent</code></pre><p>The <code>TrackNameEvent</code> contains either the name of a MIDI sequence (when in MIDI type 0 or MIDI type 2 files, or when in the first track of a MIDI type 1 file), or the name of a MIDI track (when in other tracks of a MIDI type 1 file).</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The track name in text.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.InstrumentNameEvent" href="#MIDI.InstrumentNameEvent"><code>MIDI.InstrumentNameEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InstrumentNameEvent &lt;: MetaEvent</code></pre><p>The <code>InstrumentNameEvent</code> contains the name of the instrument to be used in a track.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The instrument name in text.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.LyricEvent" href="#MIDI.LyricEvent"><code>MIDI.LyricEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LyricEvent &lt;: MetaEvent</code></pre><p>The <code>LyricEvent</code> contains the lyrics (usually syllables) in a MIDI file.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The lyric in text.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.MarkerEvent" href="#MIDI.MarkerEvent"><code>MIDI.MarkerEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MarkerEvent &lt;: MetaEvent</code></pre><p>The <code>MarkerEvent</code> contains the text of a marker.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The marker text.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.CuePointEvent" href="#MIDI.CuePointEvent"><code>MIDI.CuePointEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">CuePointEvent &lt;: MetaEvent</code></pre><p>The <code>CuePointEvent</code> contains a cue in a MIDI file.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>text::String</code> : The cue in text.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.MIDIChannelPrefixEvent" href="#MIDI.MIDIChannelPrefixEvent"><code>MIDI.MIDIChannelPrefixEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MIDIChannelPrefixEvent &lt;: MetaEvent</code></pre><p>The <code>MIDIChannelPrefixEvent</code> contains a channel number to which the following meta messages are sent to.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>channel::Int</code> : The channel number.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.EndOfTrackEvent" href="#MIDI.EndOfTrackEvent"><code>MIDI.EndOfTrackEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EndOfTrackEvent &lt;: MetaEvent</code></pre><p>The <code>EndOfTrackEvent</code> denotes the end of a track.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.SetTempoEvent" href="#MIDI.SetTempoEvent"><code>MIDI.SetTempoEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SetTempoEvent &lt;: MetaEvent</code></pre><p>The <code>SetTempoEvent</code> sets the tempo of a MIDI sequence in terms of microseconds per quarter note.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>tempo::Int</code> : The tempo in microseconds per quarter note.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.TimeSignatureEvent" href="#MIDI.TimeSignatureEvent"><code>MIDI.TimeSignatureEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TimeSignatureEvent &lt;: MetaEvent</code></pre><p>The <code>TimeSignatureEvent</code> contains the time signature of a MIDI sequence.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>numerator::Int</code> : Numerator of the time signature.</li><li><code>denominator::Int</code> : Denominator of the time signature.</li><li><code>clockticks::Int</code> : MIDI clock ticks per click.</li><li><code>notated32nd_notes::Int</code> : Number of 32nd notes per beat.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.KeySignatureEvent" href="#MIDI.KeySignatureEvent"><code>MIDI.KeySignatureEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">KeySignatureEvent &lt;: MetaEvent</code></pre><p>The <code>KeySignatureEvent</code> contains the key signature and scale of a MIDI file.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>metatype::UInt8</code> : Meta type byte of the event.</li><li><code>semitones::Int</code> : Number of flats or sharps.</li><li><code>scale::Int</code> : Scale of the MIDI file - 0 if the scale is major  and 1 if the scale is minor.</li></ul></div></section></article><h2 id="MIDI-Events"><a class="docs-heading-anchor" href="#MIDI-Events">MIDI Events</a><a id="MIDI-Events-1"></a><a class="docs-heading-anchor-permalink" href="#MIDI-Events" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MIDI.NoteOffEvent" href="#MIDI.NoteOffEvent"><code>MIDI.NoteOffEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NoteOffEvent &lt;: MIDIEvent</code></pre><p>The <code>NoteOffEvent</code> informs a MIDI device to release a note.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>note::Int</code> : Note to turn off.</li><li><code>velocity::Int</code> : Velocity of the note.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.NoteOnEvent" href="#MIDI.NoteOnEvent"><code>MIDI.NoteOnEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">NoteOnEvent &lt;: MIDIEvent</code></pre><p>The <code>NoteOnEvent</code> informs a MIDI device to play a note. A <code>NoteOnEvent</code> with 0 velocity acts as a <code>NoteOffEvent</code>.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>note::Int</code> : Note to turn on.</li><li><code>velocity::Int</code> : Velocity of the note.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.AftertouchEvent" href="#MIDI.AftertouchEvent"><code>MIDI.AftertouchEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AftertouchEvent &lt;: MIDIEvent</code></pre><p>The <code>AftertouchEvent</code> informs a MIDI device to apply pressure to a note.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>note::Int</code> : Note to apply the pressure to.</li><li><code>pressure::Int</code> : Amount of pressure to be applied.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.ControlChangeEvent" href="#MIDI.ControlChangeEvent"><code>MIDI.ControlChangeEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ControlChangeEvent &lt;: MIDIEvent</code></pre><p>The <code>ControlChangeEvent</code> informs a MIDI device to change the value of a controller.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>controller::Int</code> : Controller number.</li><li><code>value::Int</code> : Value received by the controller.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.ProgramChangeEvent" href="#MIDI.ProgramChangeEvent"><code>MIDI.ProgramChangeEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ProgramChangeEvent &lt;: MIDIEvent</code></pre><p>The <code>ProgramChangeEvent</code> informs a MIDI device to select a program number in a specific channel.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>program::Int</code> : The new program number.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.ChannelPressureEvent" href="#MIDI.ChannelPressureEvent"><code>MIDI.ChannelPressureEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ChannelPressureEvent &lt;: MIDIEvent</code></pre><p>The <code>ChannelPressureEvent</code> informs a MIDI device to apply pressure to a specific channel.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>pressure::Int</code> : Amount of the pressure to be applied.</li></ul></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.PitchBendEvent" href="#MIDI.PitchBendEvent"><code>MIDI.PitchBendEvent</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">PitchBendEvent &lt;: MIDIEvent</code></pre><p>The <code>PitchBendEvent</code> informs a MIDI device to modify the pitch in a specific channel.</p><p><strong>Fields:</strong></p><ul><li><code>dT::Int</code> : Delta time in ticks.</li><li><code>status::UInt8</code> : The status byte of the event.</li><li><code>pitch::Int</code> : Value of the pitch bend.</li></ul></div></section></article><h2 id="Utility-functions"><a class="docs-heading-anchor" href="#Utility-functions">Utility functions</a><a id="Utility-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Utility-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="MIDI.qpm" href="#MIDI.qpm"><code>MIDI.qpm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">qpm(midi)</code></pre><p>Return the QPM (quarter notes per minute) where the given <code>MIDIFile</code> was exported at. Returns 120 if not found.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.bpm" href="#MIDI.bpm"><code>MIDI.bpm</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">bpm(midi)</code></pre><p>Return the BPM where the given <code>MIDIFile</code> was exported at. Returns QPM if not found.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.ms_per_tick" href="#MIDI.ms_per_tick"><code>MIDI.ms_per_tick</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ms_per_tick(tpq, qpm)
ms_per_tick(midi::MIDIFile)</code></pre><p>Return how many milliseconds is one tick, based on the quarter notes per minute <code>qpm</code> and ticks per quarter note <code>tpq</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.addevent!" href="#MIDI.addevent!"><code>MIDI.addevent!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addevent!(track::MIDITrack, time::Int, event::TrackEvent)</code></pre><p>Add an event to the <code>track</code> at given <code>time</code>. The <code>time</code> is in absolute time, not relative.</p><p>If you want to add multiple events in one go, you should use the <a href="#MIDI.addevents!"><code>addevents!</code></a> function instead.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.addevents!" href="#MIDI.addevents!"><code>MIDI.addevents!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addevents!(track::MIDITrack, times, events)</code></pre><p>Add given <code>events</code> to given <code>track</code> at given <code>times</code>, internally doing all translations from absolute time to relative time.</p><p>Using this function is more efficient than a loop over single <a href="#MIDI.addevent!"><code>addevent!</code></a> calls.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.trackname" href="#MIDI.trackname"><code>MIDI.trackname</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">trackname(track::MIDI.MIDITrack)</code></pre><p>Return the name of the given <code>track</code> as a string, by finding the <code>TrackNameEvent</code>.</p><p>If no such event exists, <code>&quot;No track name found&quot;</code> is returned.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.addtrackname!" href="#MIDI.addtrackname!"><code>MIDI.addtrackname!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">addtrackname!(track::MIDI.MIDITrack, name::String)</code></pre><p>Add a name to the given <code>track</code> by attaching the <code>TrackNameEvent</code> to the start of the <code>track</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.findtextevents" href="#MIDI.findtextevents"><code>MIDI.findtextevents</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">findtextevents(eventtype, track)</code></pre><p>Find all text events specifield by <code>eventtype</code> in the <code>track</code>. The <code>eventtype</code> can be `TextEvent, LyricEvent, MarkerEvent, which will find the appropriate meta events.</p><p>For convenience, this function does not return the events themselves. Instead, it returns three vectors: the first is the strings of the events, the second is the indices of the events in the <code>track</code> and the third is the absolute position of the events (since start of <code>track</code>).</p><p><em>Notice</em> - common music score editors like e.g. MuseScore, GuitarPro, etc., do not export the lyrics and text information when exporting midi files.</p><p><em>Notice</em> - Cubase can read the marker events and MuseScore can read the lyrics events. We haven&#39;t seen any editor that can read the text events, so far.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="MIDI.tempochanges" href="#MIDI.tempochanges"><code>MIDI.tempochanges</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">tempochanges(midi)</code></pre><p>Return a vector of (position, tempo) tuples for all the tempo events in the given <code>MIDIFile</code> where position is in absolute time (from the beginning of the file) in ticks and tempo is in quarter notes per minute. Returns [(0, 120.0)] if there are no tempo events.</p></div></section></article><h2 id="Low-Level-API"><a class="docs-heading-anchor" href="#Low-Level-API">Low-Level API</a><a id="Low-Level-API-1"></a><a class="docs-heading-anchor-permalink" href="#Low-Level-API" title="Permalink"></a></h2><p>In this section we show the low-level API that allows one to actually read bytes from a file and transform them into Julia structures.</p><article class="docstring"><header><a class="docstring-binding" id="MIDI.readvariablelength" href="#MIDI.readvariablelength"><code>MIDI.readvariablelength</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">readvariablelength(f::IO)</code></pre><p>Variable length numbers in MIDI files are represented as a sequence of bytes. If the first bit is 0, we&#39;re looking at the last byte in the sequence. The remaining 7 bits indicate the number.</p></div></section></article><p>Other useful functions that are not exported are</p><pre><code class="language-julia hljs">writeevent
readMIDIevent
readmetaevent
readsysexevent
get_abs_pos</code></pre><hr/><p>Lastly, see the file <code>MIDI/src/constants.jl</code> for message types, event types, etc.</p><h2 id="MIDI:-The-least-you-need-to-know"><a class="docs-heading-anchor" href="#MIDI:-The-least-you-need-to-know">MIDI: The least you need to know</a><a id="MIDI:-The-least-you-need-to-know-1"></a><a class="docs-heading-anchor-permalink" href="#MIDI:-The-least-you-need-to-know" title="Permalink"></a></h2><p><em>This section serves as a crash-course on the MIDI format. For more info see the <a href="https://en.wikipedia.org/wiki/MIDI">wikipedia</a> page, read the <a href="https://www.midi.org/specifications">official MIDI specifications</a> or have a look at the comprehensive tutorial <a href="http://www.recordingblogs.com/wiki/musical-instrument-digital-interface-midi">at recordingblogs.com</a></em>.</p><p>A MIDI file typically comes in pieces called tracks that play simultaneously. Each track can have 16 different channels, numbered 0-15. Each channel can be thought of as a single instrument, though that instrument can be changed throughout that track. A track contains events. The three types of events are MIDI events, META events, and system exclusive (SYSEX) events. All events begin with the time since the last event (dT) in ticks. The number of ticks per quarter note is given by the <code>tpq</code> of the midi file, <code>MIDIFile.tpq</code> (see <a href="#MIDI.MIDIFile"><code>MIDIFile</code></a>).</p><ul><li><p>MIDI events handle things related to the actual notes as well as sound texture, such as playing a note or moving the pitch-wheel.</p></li><li><p>META events take care of things like adding copyright text, authorship information, track naming etc.</p></li><li><p>SYSEX events are used to transmit arbitrary data. Their contents depend on the intended recipient.</p></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">« Introduction</a><a class="docs-footer-nextpage" href="../notes/">Notes »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 30 May 2024 09:59">Thursday 30 May 2024</span>. Using Julia version 1.10.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
