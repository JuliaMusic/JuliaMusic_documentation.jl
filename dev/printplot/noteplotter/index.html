



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Julia packages for handling and manipulating music-related data.">
      
      
      
        <meta name="author" content="George Datseris, Joel Hobson">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.5, mkdocs-material-2.9.4">
    
    
      
        <title>Plotting Notes - JuliaMusic</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="#ab47bc">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../assets\Documenter.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="purple" data-md-color-accent="pink">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#plotting-notes" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="JuliaMusic" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                JuliaMusic
              </span>
              <span class="md-header-nav__topic">
                Plotting Notes
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/JuliaMusic/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="JuliaMusic" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    JuliaMusic
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/JuliaMusic/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../midi/io/" title="MIDI files" class="md-nav__link">
      MIDI files
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../midi/notes/" title="Notes" class="md-nav__link">
      Notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../mm/quantizing/" title="Quantizing" class="md-nav__link">
      Quantizing
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../mm/extraction/" title="Music Data Extraction" class="md-nav__link">
      Music Data Extraction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Visualization
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Visualization
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Plotting Notes
      </label>
    
    <a href="./" title="Plotting Notes" class="md-nav__link md-nav__link--active">
      Plotting Notes
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#piano-notes" title="Piano notes" class="md-nav__link">
    Piano notes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drum-notes" title="Drum notes" class="md-nav__link">
    Drum notes
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../musescore/" title="Printing Notes into Score" class="md-nav__link">
      Printing Notes into Score
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../motif/basic/" title="Motif Sequence Generation" class="md-nav__link">
      Motif Sequence Generation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../motif/musicexample/" title="Music Motifs" class="md-nav__link">
      Music Motifs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Becoming a better drummer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Becoming a better drummer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../blog/intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../blog/drumpatterns/" title="Ep. 1 - Mixing Drum Patterns" class="md-nav__link">
      Ep. 1 - Mixing Drum Patterns
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../blog/garibaldi_dragadiddle/" title="Ep. 2 - Garibaldi inspired dragaddidle" class="md-nav__link">
      Ep. 2 - Garibaldi inspired dragaddidle
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#piano-notes" title="Piano notes" class="md-nav__link">
    Piano notes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drum-notes" title="Drum notes" class="md-nav__link">
    Drum notes
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/JuliaMusic/edit/master/docs/printplot/noteplotter.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <p><a id='Plotting-Notes-1'></a></p>
<h1 id="plotting-notes">Plotting Notes</h1>
<p>With <code>MusicVisualizations</code> it is possible to plot <a href="../../midi/notes/#MIDI.Notes"><code>Notes</code></a> similarly to a "piano roll" that DAW like Cubase use. This is achieved with the <a href="./#MusicVisualizations.noteplotter"><code>noteplotter</code></a> function, which uses <code>PyPlot</code>.</p>
<p><a id='MusicVisualizations.noteplotter' href='#MusicVisualizations.noteplotter'>#</a>
<strong><code>MusicVisualizations.noteplotter</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span><span class="n">noteplotter</span><span class="p">(</span><span class="n">notes</span><span class="o">::</span><span class="n">Notes</span><span class="p">;</span> <span class="n">kwargs</span><span class="o">...</span><span class="p">)</span>
</pre></div>


<p>Plot the given <code>notes</code> on a "piano roll" like setting with</p>
<ul>
<li>x axis being the position of the notes</li>
<li>y axis being the "pitch" or "value" of the notes (see below)</li>
<li>color being the velocity of the notes</li>
</ul>
<p>Then return the values of the y axis.</p>
<p><strong>Keywords</strong></p>
<ul>
<li><code>st = (notes[1].position ÷ notes.tpq) * notes.tpq</code>  time to start plotting from</li>
<li><code>fi = st + 16notes.tpq</code> time to stop plotting at, by default 16 quarter notes, i.e. four bars. Give <code>Inf</code> if you want to plot until the end of the notes.</li>
<li><code>ax = (PyPlot.figure(); PyPlot.gca())</code> the axis to plot on.</li>
<li><code>cmap = "viridis"</code> the colormap to use for the velocity.</li>
<li><code>grid = 0:0.25:1</code> a grid to plot along with the notes (by default the 16th notes). Give nothing if you don't want grid lines to be plotted.</li>
<li><code>names</code> : a dictionary that given the y-axis value returns how this value should be named. By default the function <a href="../../midi/notes/#MIDI.pitch_to_name"><code>pitch_to_name</code></a> is used, along with a heuristic to only name around 7 notes.</li>
<li><code>plotnote!</code> A function with call arguments <code>plotnote!(ax, note, cmap)</code> (with <code>cmap</code> a colormap instance, not a string), that actually plots the notes. By default plots a "piano-roll".</li>
</ul>
<p>The <code>plotnote!</code> argument allows for customization. The function is supposed to plot a note on the given axis <strong>and return</strong> the "value" of the note. See the official documentation for an example of how this is taken advantage of to e.g. plot drum notes.</p>
<hr />
<p><a id='Piano-notes-1'></a></p>
<h2 id="piano-notes">Piano notes</h2>
<div class="codehilite"><pre><span></span><span class="k">using</span> <span class="n">MusicVisualizations</span><span class="p">,</span> <span class="n">PyPlot</span>
<span class="c"># MusicVisualizations reexports MusicManipulations for convenience</span>

<span class="c"># load a band performance (with metronome)</span>
<span class="n">midi</span> <span class="o">=</span> <span class="n">readMIDIFile</span><span class="p">(</span><span class="n">joinpath</span><span class="p">(</span><span class="nd">@__DIR__</span><span class="p">,</span> <span class="s">&quot;mfi_grapevine_1.mid&quot;</span><span class="p">))</span>

<span class="n">grid</span> <span class="o">=</span> <span class="mi">0</span><span class="o">:</span><span class="mi">1</span><span class="o">//</span><span class="mi">4</span><span class="o">:</span><span class="mi">1</span>
<span class="n">piano</span> <span class="o">=</span> <span class="n">getnotes</span><span class="p">(</span><span class="n">midi</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">819 Notes with tpq=960</span>
<span class="err"> Note F4  | vel = 99  | pos = 8981, dur = 1217</span>
<span class="err"> Note A4  | vel = 99  | pos = 8981, dur = 1275</span>
<span class="err"> Note D5  | vel = 97  | pos = 8990, dur = 1314</span>
<span class="err"> Note D3  | vel = 97  | pos = 9004, dur = 1772</span>
<span class="err"> Note D4  | vel = 81  | pos = 9015, dur = 1287</span>
<span class="err"> Note F4  | vel = 84  | pos = 10496, dur = 130</span>
<span class="err"> Note A4  | vel = 87  | pos = 10504, dur = 175</span>
<span class="err">  ⋮</span>
<span class="err"> Note E5  | vel = 87  | pos = 310837, dur = 114</span>
<span class="err"> Note F5  | vel = 81  | pos = 311276, dur = 233</span>
<span class="err"> Note G4  | vel = 82  | pos = 311284, dur = 196</span>
<span class="err"> Note B4  | vel = 58  | pos = 311286, dur = 197</span>
<span class="err"> Note G4  | vel = 92  | pos = 311739, dur = 197</span>
<span class="err"> Note E5  | vel = 99  | pos = 311744, dur = 181</span>
<span class="err"> Note B4  | vel = 56  | pos = 311782, dur = 104</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="n">noteplotter</span><span class="p">(</span><span class="n">piano</span><span class="p">;</span> <span class="n">st</span> <span class="o">=</span> <span class="mi">15300</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="n">grid</span><span class="p">)</span>
</pre></div>


<p><img alt="" src="../pianoroll.png" /></p>
<p><a id='Drum-notes-1'></a></p>
<h2 id="drum-notes">Drum notes</h2>
<p>The nice thing about <a href="./#MusicVisualizations.noteplotter"><code>noteplotter</code></a> is that it is fully customizable, via its argument <code>plotnote!</code>. In this section we show an example of how <a href="./#MusicVisualizations.noteplotter"><code>noteplotter</code></a> can be used to plot drum notes in drum notation, similarly to Cubase's GM Map.</p>
<p>The first step is defining a specific function for <code>plotnote!</code>. Since the duration of the notes does not have meaning in this case, we can just scatter plot their position. Also, we can use different symbols for different drum parts, e.g. circles for snare and bass drum and Xs for hihat and cymbals.</p>
<div class="codehilite"><pre><span></span><span class="k">function</span> <span class="n">plotdrumnote!</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">note</span><span class="p">,</span> <span class="n">cmap</span><span class="p">)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">note</span><span class="o">.</span><span class="n">pitch</span>
    <span class="k">if</span> <span class="n">p</span> <span class="o">==</span> <span class="mh">0x24</span> <span class="c"># kick</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;o&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">∈</span> <span class="p">(</span><span class="mh">0x26</span><span class="p">,</span> <span class="mh">0x28</span><span class="p">)</span> <span class="c"># snare</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span> <span class="s">&quot;o&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">∈</span> <span class="p">(</span><span class="mh">0x16</span><span class="p">,</span> <span class="mh">0x1a</span><span class="p">)</span> <span class="c"># hihat rim</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&quot;X&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">∈</span> <span class="p">(</span><span class="mh">0x2e</span><span class="p">,</span> <span class="mh">0x2a</span><span class="p">)</span> <span class="c"># hihat head</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&quot;x&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">==</span> <span class="mh">0x35</span> <span class="c"># ride bell</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;D&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">==</span> <span class="mh">0x33</span> <span class="c"># ride head</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;x&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">==</span> <span class="mh">0x3b</span> <span class="c"># ride rim</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">6</span><span class="p">,</span> <span class="s">&quot;X&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">∈</span> <span class="p">(</span><span class="mh">0x30</span><span class="p">,</span> <span class="mh">0x32</span><span class="p">)</span> <span class="c"># tom 1</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">4</span><span class="p">,</span> <span class="s">&quot;s&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">∈</span> <span class="p">(</span><span class="mh">0x2b</span><span class="p">,</span> <span class="mh">0x3a</span><span class="p">)</span> <span class="c"># tom 3</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span> <span class="s">&quot;s&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">∈</span> <span class="p">(</span><span class="mh">0x31</span><span class="p">,</span> <span class="mh">0x37</span><span class="p">,</span> <span class="mh">0x34</span><span class="p">,</span> <span class="mh">0x39</span><span class="p">)</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="s">&quot;X&quot;</span>
    <span class="k">elseif</span> <span class="n">p</span> <span class="o">==</span> <span class="mh">0x2c</span> <span class="c"># hihat foot</span>
        <span class="n">v</span><span class="p">,</span> <span class="n">m</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&quot;x&quot;</span>
    <span class="k">else</span>
        <span class="n">error</span><span class="p">(</span><span class="s">&quot;Unknown pitch </span><span class="si">$</span><span class="p">(</span><span class="kt">UInt8</span><span class="p">(</span><span class="n">p</span><span class="p">))</span><span class="s">&quot;</span><span class="p">)</span>
    <span class="k">end</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">position</span><span class="p">,</span> <span class="n">v</span><span class="p">,</span> <span class="n">marker</span> <span class="o">=</span> <span class="n">m</span><span class="p">,</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">250</span><span class="p">,</span>
        <span class="n">color</span> <span class="o">=</span> <span class="n">cmap</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">note</span><span class="o">.</span><span class="n">velocity</span><span class="p">,</span> <span class="mi">127</span><span class="p">)</span><span class="o">/</span><span class="mi">127</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">v</span>
<span class="k">end</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">plotdrumnote! (generic function with 1 method)</span>
</pre></div>


<p>(notice that the above function is hand-tailored for a specific e-drumset)</p>
<p>To make things even prettier, one can also use custom names for the notes:</p>
<div class="codehilite"><pre><span></span><span class="n">TD50_PLOT</span> <span class="o">=</span> <span class="kt">Dict</span><span class="p">(</span>
    <span class="mi">1</span> <span class="o">=&gt;</span> <span class="s">&quot;kick&quot;</span><span class="p">,</span>
    <span class="mi">3</span> <span class="o">=&gt;</span> <span class="s">&quot;snare&quot;</span><span class="p">,</span>
    <span class="mi">5</span> <span class="o">=&gt;</span> <span class="s">&quot;hihat&quot;</span><span class="p">,</span>
    <span class="mi">6</span> <span class="o">=&gt;</span> <span class="s">&quot;ride&quot;</span><span class="p">,</span>
    <span class="mi">4</span> <span class="o">=&gt;</span> <span class="s">&quot;tom1&quot;</span><span class="p">,</span>
    <span class="mi">2</span> <span class="o">=&gt;</span> <span class="s">&quot;tom3&quot;</span><span class="p">,</span>
    <span class="mi">7</span> <span class="o">=&gt;</span> <span class="s">&quot;crash&quot;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">Dict{Int64,String} with 7 entries:</span>
<span class="err">  7 =&gt; &quot;crash&quot;</span>
<span class="err">  4 =&gt; &quot;tom1&quot;</span>
<span class="err">  2 =&gt; &quot;tom3&quot;</span>
<span class="err">  3 =&gt; &quot;snare&quot;</span>
<span class="err">  5 =&gt; &quot;hihat&quot;</span>
<span class="err">  6 =&gt; &quot;ride&quot;</span>
<span class="err">  1 =&gt; &quot;kick&quot;</span>
</pre></div>


<p>And now here is how plotting some drum notes looks like:</p>
<div class="codehilite"><pre><span></span><span class="n">drums</span> <span class="o">=</span> <span class="n">getnotes</span><span class="p">(</span><span class="n">midi</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">drums</span> <span class="o">=</span> <span class="n">translate</span><span class="p">(</span><span class="n">drums</span><span class="p">,</span> <span class="o">-</span><span class="mi">300</span><span class="p">)</span> <span class="c"># constant delay</span>

<span class="n">noteplotter</span><span class="p">(</span><span class="n">drums</span><span class="p">;</span> <span class="n">st</span> <span class="o">=</span> <span class="mi">15300</span><span class="p">,</span> <span class="n">grid</span> <span class="o">=</span> <span class="n">grid</span><span class="p">,</span>
                   <span class="n">names</span><span class="o">=</span><span class="n">TD50_PLOT</span><span class="p">,</span> <span class="n">plotnote!</span> <span class="o">=</span> <span class="n">plotdrumnote!</span><span class="p">)</span>
</pre></div>


<p><img alt="" src="../drumroll.png" /></p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../../mm/extraction/" title="Music Data Extraction" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Music Data Extraction
              </span>
            </div>
          </a>
        
        
          <a href="../musescore/" title="Printing Notes into Score" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Printing Notes into Score
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/JuliaMusic" class="md-footer-social__link fa fa-github"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.30f6b8b1.js"></script>
      
      <script>app.initialize({version:"0.17.5",url:{base:"../.."}})</script>
      
        <script src="../../assets\mathjaxhelper.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
    
      
    
  </body>
</html>